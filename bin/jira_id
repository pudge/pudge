#!/usr/bin/perl
use warnings;
use strict;
use feature ':5.10';

my($id) = @ARGV;

$id ||= id(`git rev-parse --abbrev-ref HEAD`);
$id ||= id(`pbpaste`);

say $id;

sub id {
    my $id = shift;
    return $id =~ m|(\w+-\d+)| ? $1 : '';
}
